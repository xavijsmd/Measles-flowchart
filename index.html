# Create an interactive HTML flowchart snippet with gradient style, step-by-step navigation, and back button

html_interactive = """
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Interactive Measles Flowchart</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #ffffff;
            padding: 20px;
            max-width: 600px;
            margin: auto;
        }
        .box {
            background: linear-gradient(135deg, #E73551, #EB4B7B, #9B4FB5);
            color: white;
            border-radius: 10px;
            padding: 16px;
            margin: 20px 0;
            display: none;
        }
        .visible {
            display: block;
        }
        .buttons {
            margin-top: 15px;
        }
        button {
            margin: 5px;
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            font-size: 16px;
            cursor: pointer;
            background-color: #262E71;
            color: white;
        }
        #recommendation {
            font-weight: bold;
            font-size: 18px;
            background-color: #0B2345;
            padding: 16px;
            color: white;
            display: none;
        }
    </style>
</head>
<body>

<div id="step0" class="box visible">
    Patient with fever, cough, conjunctivitis
    <div class="buttons">
        <button onclick="nextStep(1)">Continue</button>
    </div>
</div>

<div id="step1" class="box">
    Obtain detailed history: vaccination, travel, symptoms
    <div class="buttons">
        <button onclick="nextStep(2)">Continue</button>
        <button onclick="goBack(0)">Back</button>
    </div>
</div>

<div id="step2" class="box">
    Vaccination status?
    <div class="buttons">
        <button onclick="nextStep(3)">2 doses</button>
        <button onclick="nextStep(4)">Less than 2 / Unknown</button>
        <button onclick="goBack(1)">Back</button>
    </div>
</div>

<div id="step3" class="box">
    Testing rarely indicated.
    <div class="buttons">
        <button onclick="showRecommendation('No testing needed. Monitor symptoms.')">Finish</button>
        <button onclick="goBack(2)">Back</button>
    </div>
</div>

<div id="step4" class="box">
    Symptoms consistent with measles?
    <div class="buttons">
        <button onclick="nextStep(5)">Yes</button>
        <button onclick="nextStep(6)">No</button>
        <button onclick="goBack(2)">Back</button>
    </div>
</div>

<div id="step5" class="box">
    Recommend PCR and IgG/IgM, isolate, contact public health
    <div class="buttons">
        <button onclick="showRecommendation('Initiate testing, isolate patient, and contact public health.')">Finish</button>
        <button onclick="goBack(4)">Back</button>
    </div>
</div>

<div id="step6" class="box">
    Consider alternative diagnosis
    <div class="buttons">
        <button onclick="showRecommendation('Explore alternative diagnoses. Measles unlikely.')">Finish</button>
        <button onclick="goBack(4)">Back</button>
    </div>
</div>

<div id="recommendation"></div>

<script>
    function nextStep(step) {
        hideAll();
        document.getElementById('step' + step).classList.add('visible');
    }

    function goBack(step) {
        hideAll();
        document.getElementById('step' + step).classList.add('visible');
    }

    function hideAll() {
        let boxes = document.querySelectorAll('.box');
        boxes.forEach(box => box.classList.remove('visible'));
        document.getElementById('recommendation').style.display = 'none';
    }

    function showRecommendation(text) {
        hideAll();
        let rec = document.getElementById('recommendation');
        rec.innerText = text;
        rec.style.display = 'block';
    }
</script>

</body>
</html>
"""

# Display the interactive HTML snippet
display(HTML(html_interactive))
